@model DBfirst.Models.Class
@{
    ViewData["Title"] = "Create New Class";
    var classes = ViewBag.Classes as List<DBfirst.Data.DTOs.ClassDTO>;
    var teachers = ViewBag.Teachers as List<DBfirst.Models.Teacher>;
    var subjects = ViewBag.Subjects as List<DBfirst.Models.Subject>;
}

<h2 class="text-center mt-4">@ViewData["Title"]</h2>

@if (classes != null && classes.Any())
{
    <div class="table-responsive mt-4">
        <table class="table table-bordered table-striped mx-auto" style="width: 80%;">
            <thead class="table-light">
                <tr>
                    <th>ClassName</th>
                    <th>TeacherId</th>
                    <th>SubjectId</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var s in classes)
                {
                    <tr>
                        <td class="text-center">@s.ClassName</td>
                        <td class="text-center">@s.TeacherId</td>
                        <td class="text-center">@s.SubjectId</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-sm p-4">
                <form asp-action="Class" method="post">
                    <div class="form-group mb-3">
                        <label asp-for="ClassName" class="form-label">ClassName</label>
                        <input asp-for="ClassName" class="form-control" />
                    </div>

                    <div class="form-group mb-3">
                        <label asp-for="TeacherId" class="form-label">Teacher</label>
                        <select asp-for="TeacherId" class="form-select">
                            <option value="">-- Select Teacher --</option>
                            @foreach (var teacher in teachers)
                            {
                                <option value="@teacher.TeacherId">@teacher.Name</option>
                            }
                        </select>
                    </div>

                    <div class="form-group mb-3">
                        <label asp-for="SubjectId" class="form-label">Subject</label>
                        <select asp-for="SubjectId" class="form-select">
                            <option value="">-- Select Subject --</option>
                            @foreach (var subject in subjects)
                            {
                                <option value="@subject.SubjectId">@subject.SubjectName</option>
                            }
                        </select>
                    </div>

                    <div class="text-center">
                        <input type="submit" value="Add" class="btn btn-primary btn-lg" />
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<style>
    body {
        background-color: #f8f9fa;
    }

    .table {
        margin-top: 20px;
    }

        .table th, .table td {
            padding: 12px;
            vertical-align: middle;
        }

        .table thead {
            background-color: #f2f2f2;
        }

    .card {
        border-radius: 10px;
        background-color: #ffffff;
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

    select.form-select {
        height: 45px;
        font-size: 1rem;
    }
</style>
